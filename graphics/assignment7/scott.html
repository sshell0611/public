
<h2>Assignment 7</h2>
<p><hr>&nbsp;<p>

<table>
<tr>
<td><canvas id=canvas1 width=700 height=500></td>
<td width=50></td>
<td valign=top>
</td>
</tr>


<script src=drawlib1.js></script>
<script>

	var id     = 'canvas1';
   	var canvas = initCanvas(id);

	//canvas.addEventListener('mousedown', DragStart);
	//canvas.addEventListener('mousemove', Dragging);
	//canvas.addEventListener('mouseup', DragEnd);

	var origin = new Vector3(0,0,0);
	var points = []; 
	var isDragging = false;
	var dragPtIdx = -1;
	var steps = 50;

	var curves = [];
	points[0] = new Vector3(-.72, .45, 0.25);
	points[1] = new Vector3(-.57, .55, -0.25); 
	points[2] = new Vector3(-.25, .45, 0.25);

	var pent = new Pentagon(points[0].x, points[0].y, 0.05);
	pent.setFill('orange');

	var bc = new Sphere();

	var m = new Matrix();
	var lastPt = points[0];

    canvas.update = function(g) {

			this.g = g;
			var match = true;
			var theta = 2 * time;

			var points2 = [];
			points2[0] = new Vector3(0, 0.03, 0.25);
			points2[1] = new Vector3(Math.cos(theta)*.05, -.1, -0.25);
			points2[2] = new Vector3(-.025+Math.sin(theta)*.05, -.3, 1);
			points2[3] = new Vector3(-.025+Math.sin(theta)*.1, -.4+Math.cos(theta)*0.01, 1);
			points2[4] = new Vector3(0, -.55+Math.cos(theta)*0.01, 1);

			var spline = new Spline(points, steps, match);
			var spline2 = new Spline(points2, steps, false);

			g.lineCap  = "round";
			g.lineJoin = "round";

			g.fillStyle = 'white';//'rgb(220,250,255)';

			g.beginPath();
			g.moveTo(0,0);
			g.lineTo(this.width, 0);
			g.lineTo(this.width, this.height);
			g.lineTo(0, this.height);
			g.fill();

			m.identity();

			g.strokeStyle = 'blue';
			spline.draw(id);
			spline2.draw(id);

			var t = time;
			var pt = spline.getPoint(t*10);
			var diff = pt.minus(lastPt);

			m.translate(diff);		
			pent.transform(m, true);

			lastPt = pt;

			drawShape(pent, g, this.width, this.height);

			bc.build();
			bc.draw(g, this.width, this.height);

			g.lineWidth = 7.5;
			g.strokeStyle = 'black';
			//drawPoints(id, [pt], 0);

			drawBorder(g, 'black', this.width, this.height);

 	}




</script>

